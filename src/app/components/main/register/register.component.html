<ngx-spinner type="line-scale"></ngx-spinner>

<div class="container my-3">
  <h3>Registration</h3>
  <form [formGroup]="registerForm" (ngSubmit)="register()">
    <div class="form-row">
      <div class="col">
        <div class="form-group">
          <label for="name"><b>Name</b></label>
          <input class="form-control" type="text" placeholder="Enter Name" formControlName="name" />
          <div *ngIf="
                    registerForm.get('name').invalid &&
                    (registerForm.get('name').dirty ||
                      registerForm.get('name').touched)
                  " class="alert alert-danger">
            <div *ngIf="registerForm.get('name').errors.required">
              Name is required.
            </div>
            <div *ngIf="registerForm.get('name').errors.minlength">
              Name must be at least 6 characters long.
            </div>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="form-group">
          <label for="uname"><b>Username</b></label>
          <input class="form-control" type="text" placeholder="Enter Username" formControlName="username" />
          <div *ngIf="
                    registerForm.get('username').invalid &&
                    (registerForm.get('username').dirty ||
                      registerForm.get('username').touched)
                  " class="alert alert-danger">
            <div *ngIf="registerForm.get('username').errors.required">
              Username is required.
            </div>
            <div *ngIf="registerForm.get('username').errors.minlength">
              Username must be at least 6 characters long.
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="form-row">
      <div class="col">
        <div class="form-group">
          <label for="phone"><b>Phone No.</b></label>
          <input class="form-control" type="text" placeholder="Enter Mobile Number" formControlName="phone" />
          <div *ngIf="
                    registerForm.get('phone').invalid &&
                    (registerForm.get('phone').dirty ||
                      registerForm.get('phone').touched)
                  " class="alert alert-danger">
            <div *ngIf="registerForm.get('phone').errors.required">
              Mobile No. is required.
            </div>
            <div *ngIf="registerForm.get('phone').errors.patternValidator">
              Enter a valid Phone No. Format
            </div>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="form-group">
          <label for="email"><b>Email Address</b></label>
          <input class="form-control" type="email" placeholder="Enter Email Address" formControlName="email" />
          <div *ngIf="
                    registerForm.get('email').invalid &&
                    (registerForm.get('email').dirty ||
                      registerForm.get('email').touched)
                  " class="alert alert-danger">
            <div *ngIf="registerForm.get('email').errors.required">
              Email is required.
            </div>
            <div *ngIf="registerForm.get('email').errors">
              Invalid Email Format
            </div>
            <div *ngIf="registerForm.get('email').errors.patternValidator">
              Enter a valid Email Format
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="form-row">
      <div class="col">
        <div class="form-group">
          <label for="password"><b>Password</b></label>
          <input class="form-control" type="password" placeholder="Enter Password" formControlName="password" />
          <div *ngIf="
                    registerForm.get('password').invalid &&
                    (registerForm.get('password').dirty ||
                      registerForm.get('password').touched)
                  " class="alert alert-danger">
            <div *ngIf="registerForm.get('password').errors.required">
              password is required.
            </div>
            <div *ngIf="registerForm.get('password').errors.minlength">
              Password must be at least 8 characters long.
            </div>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="form-group ">
          <label for="confirmPassword"><b>Confirm Password</b></label>
          <input class="form-control" type="password" placeholder="Confirm Password"
            formControlName="confirmPassword" />
          <div *ngIf="
                    registerForm.get('confirmPassword').invalid &&
                    (registerForm.get('confirmPassword').dirty ||
                      registerForm.get('confirmPassword').touched)
                  " class="alert alert-danger">
            <div *ngIf="registerForm.get('confirmPassword').errors.required">
              Confirm Password is required.
            </div>
            <div *ngIf="registerForm.get('confirmPassword').errors.minlength">
              Confirm Password must be at least 8 characters long.
            </div>
            <div *ngIf="registerForm.get('password').value != registerForm.get('confirmPassword').value">
              Passwords didn't match
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="form-row">
      <div class="col">
        <div class="form-group">
          <label for="address"><b>Address</b></label>
          <textarea class="form-control" type="text" placeholder="Enter Address" formControlName="address"
            rows="2"></textarea>
          <div *ngIf="
                    registerForm.get('address').invalid &&
                    (registerForm.get('address').dirty ||
                      registerForm.get('address').touched)
                  " class="alert alert-danger">
            <div *ngIf="registerForm.get('address').errors.required">
              Address is required
            </div>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="form-group">
          <label for="cardType"><b>Card Type:</b></label>
          <div class="form-group">
            <div>
              <input type="radio" formControlName="cardType" value="GOLD" />
              <b>GOLD</b>
            </div>
            <div>
              <input type="radio" formControlName="cardType" value="TITANIUM" />
              <b>TITANIUM</b>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="form-row">
      <div class="col">
        <div class="form-group">
          <label for="user.bank.name"><b>Bank</b></label>
          <input class="form-control" type="text" placeholder="Enter Bank" formControlName="bankName" />
          <div *ngIf="
                    registerForm.get('bankName').invalid &&
                    (registerForm.get('bankName').dirty ||
                      registerForm.get('bankName').touched)
                  " class="alert alert-danger">
            <div *ngIf="registerForm.get('bankName').errors.required">
              Bank is required
            </div>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="form-group">
          <label for="ifsc"><b>I.F.S.C.</b></label>
          <input class="form-control" type="text" placeholder="Enter I.F.S.C." formControlName="ifsc" />
          <div *ngIf="
                    registerForm.get('ifsc').invalid &&
                    (registerForm.get('ifsc').dirty ||
                      registerForm.get('ifsc').touched)
                  " class="alert alert-danger">
            <div *ngIf="registerForm.get('ifsc').errors.required">
              I.F.S.C. is required
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="form-row">
      <div class="col">
        <div class="form-group">
          <label for="accountNo"><b>Savings Account No.</b></label>
          <input class="form-control" type="text" placeholder="Enter Savings Account No." formControlName="accountNo" />
          <div *ngIf="
                    registerForm.get('accountNo').invalid &&
                    (registerForm.get('accountNo').dirty ||
                      registerForm.get('accountNo').touched)
                  " class="alert alert-danger">
            <div *ngIf="registerForm.get('accountNo').errors.required">
              Savings Account No. is required
            </div>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="form-group">
          <label for="confirmAccountNo"><b>Savings Account No.</b></label>
          <input class="form-control" type="text" placeholder="confirm Savings Account No."
            formControlName="confirmAccountNo" />
          <div *ngIf="
                    registerForm.get('confirmAccountNo').invalid &&
                    (registerForm.get('confirmAccountNo').dirty ||
                      registerForm.get('confirmAccountNo').touched)
                  " class="alert alert-danger">
            <div *ngIf="registerForm.get('confirmAccountNo').errors.required">
              Savings Account No. is required
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="form-row">
      <div class="col">
        <button class="btn btn-secondary btn-block" type="reset">Reset</button>
      </div>
      <div class="col">
        <button class="btn btn-primary btn-block" type="submit"
          [disabled]="!registerForm.valid || formSubmitted">Register</button>
      </div>
    </div>

    <div class="my-3">
      Already a member?
      <a routerLink="/login">Login</a>
    </div>

  </form>

</div>
